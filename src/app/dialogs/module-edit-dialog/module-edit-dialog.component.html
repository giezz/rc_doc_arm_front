<div class="wrapper">
  <ng-container *ngIf="!isLoaded; else loading">
    <ng-container *ngFor="let blockId of [1, 2, 3]">
      <div class="detail-island">
        {{ blockId === 1 ? 'разминочный блок' : (blockId === 2 ? 'основной блок' : 'заминочный блок') }}
        <div class="module-items-container">
          <ng-container *ngFor="let exercise of module.exercises">
            <ng-container *ngIf="exercise.blockId === blockId">
              <div class="module-form-container">
                {{exercise.exerciseName}}
                <div>
                  подробнее
                  <button
                    appearance="icon"
                    icon="tuiIconTrash"
                    tuiIconButton
                    type="button"
                    (click)="deleteExercise(module.id, exercise.id)"
                  >
                  </button>
                </div>
              </div>
            </ng-container>
          </ng-container>
          <button
            appearance="icon"
            icon="tuiIconPlusLarge"
            tuiIconButton
            type="button"
            class="tui-space_right-3 tui-space_bottom-3"
            (click)="showAddExerciseDialog(module.id, blockId)"
          ></button>
        </div>
        опросы
        <div class="module-items-container">
          <ng-container *ngFor="let form of module.forms">
            <ng-container *ngIf="form.blockId === blockId">
              <div class="module-form-container">
                {{form.formName}}
                <div>
                  подробнее
                  <button
                    appearance="icon"
                    icon="tuiIconTrash"
                    tuiIconButton
                    type="button"
                    (click)="deleteFrom(module.id, form.id)"
                  >
                  </button>
                </div>
              </div>
            </ng-container>
          </ng-container>
          <button
            appearance="icon"
            icon="tuiIconPlusLarge"
            tuiIconButton
            type="button"
            class="tui-space_right-3 tui-space_bottom-3"
            (click)="showAddFormDialog(module.id, blockId)"
          ></button>
        </div>
      </div>
    </ng-container>
  </ng-container>
</div>
<ng-template #loading>
  <tui-loader [showLoader]="true" [size]="'xxl'" class="loader"></tui-loader>
</ng-template>
