<h1>Протокол телемедицинской консультации</h1>
{{protocolForm.value | json}}
<form [formGroup]="protocolForm" (ngSubmit)="createProtocol()">
  <h2>Оценка состояния по шкалам</h2>
  <div formArrayName="scales">
    <ng-container *ngFor="let control of scales.controls; let i = index">
        <tui-textarea
          [tuiTextfieldCleaner]="true"
          [tuiTextfieldLabelOutside]="true"
          [formControlName]="i"
          [readOnly]="true"
        >
        </tui-textarea>
    </ng-container>
  </div>
  <button
    tuiButton
    type="button"
    (click)="addScale()"
  >
    Добавить шкалу
  </button>
  <h2>Результат реабилитации</h2>
  <tui-textarea
    formControlName="result"
    [expandable]="true"
  ></tui-textarea>
  <h2>Реабилитационный диагноз</h2>
  <tui-textarea
    formControlName="result"
    [expandable]="true"
  ></tui-textarea>
  <h2>Рекомендации</h2>
  <tui-textarea
    formControlName="recommendations"
    [expandable]="true"
  ></tui-textarea>
  <button
    tuiButton
    type="submit"
  >
    Создать
  </button>
</form>
